
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>

        <script>
//            people = [
//                {name: 'Mary', gender: 'girl'},
//                {name: 'Paul', gender: 'boy'},
//                {name: 'John', gender: 'boy'},
//                {name: 'Lisa', gender: 'girl'},
//                {name: 'Bill', gender: 'boy'},
//                {name: 'Maklatura', gender: 'girl'}
//            ];

//            var numBoys = people.reduce(function (n, person) {
//                return n + (person.gender === 'boy');
//            }, 0);
//
//            document.write(numBoys);

//            count = function (ary, classifier) {
//                return ary.reduce(function (counter, item) {
//                    var p = (classifier || String)(item);
//                    counter[p] = counter.hasOwnProperty(p) ? counter[p] + 1 : 1;
//                    return counter;
//                }, {});
//            };
//
//            countByGender = count(people, function (item) {
//                return item.gender;
//            });
//
//
//            for (var i = 0; i < countByGender.length; i++) {
//                //document.write(countByGender[i].length);
//            }
//
//
//
//            name = ["owen wang", "spark xu", "owen wang", "fanny fu", "fanny fu", "iris mao"];
//            name2 = [{first: "owen", lsat: "wang"},
//                {first: "spark", lsat: "xu"},
//                {first: "owen", lsat: "wang"},
//                {first: "fanny", lsat: "fu"},
//                {first: "fanny", lsat: "fu"},
//                {first: "iris", lsat: "mao"}
//            ];
//
//            document.write(typeof name + "</br>");
//            document.write(typeof name2[0].first + "</br>");
//
//            var checked = [];
//            for (var i = 0; i < name2.length; i++) {
//
//                if (checked.indexOf(name2[i].first) === -1) {
//
//                    var pos = 0;
//                    var num = -1;
//                    var start = -1;
//
//                    while (pos !== -1) {
//                        pos = name.indexOf(name2[i].first, start + 1);
//                        document.write(">>> " + pos + "</br>");
//                        num += 1;
//                        start = pos;
//                    }
//                    document.write(name2[i].first + " " + num + "</br>");
//                }
//                checked.push(name2[i].first);
//            }



//            name2 = ["owen", "spark", "owen", "fanny", "fanny"];
//
//            document.write(name+"</br>");
//            document.write(typeof name2[0]+"</br>");
//            var checked = [];
//
//            for (var i = 0; i < name2.length; i++) {
//
//                if (checked.indexOf(name2[i]) === -1) {
//                    
//                    var pos = 0;
//                    var num = -1;
//                    var start = -1;
//                    
//                    while (pos !== -1) {
//                        pos = name.indexOf(name2[i], start + 1);
//                        num += 1;
//                        start = pos;
//                    }
//                    document.write(name2[i]+" "+num+"</br>");
//                }
//                checked.push(name2[i]);
//            }

//            var words = ["team", "meat", "car"], map = {};
//            for (var i = 0; i < words.length; i++) {
//
//                var key = words[i];
//
//                if (key in map)
//                    map[key].push(words[i]);
//                else
//                    map[key] = [words[i]];
//            }
//
//            for (var x in map) {
//                document.write(x + " -> ");
//                var value = map[x];
//                for (y in value) {
//                    document.write(value[y] + "</br>");
//                }
//            }


            var word = [{school: "team", grade: 5},
                {school: "team", grade: 3},
                {school: "car", grade: 7},
                {school: "car", grade: 3},
                {school: "car", grade: 5},
                {school: "owen", grade: 5}
            ], map1 = {};

            for (var i = 0; i < word.length; i++) {
                var key = word[i].school;
                if (key in map1) {
                    map1[key].push(word[i].grade);
                }
                else {
                    map1[key] = [word[i].grade];
                }
            }

            for (var x in map1) {

                var value = map1[x];              
                var sum = value.reduce(function (a, b) {return a + b;});      
                var avgGrade = sum / value.length;
                

                value.sort(function (a, b) {return a - b;});   
                var half = Math.floor(value.length/2);
                
                if(value.length%2){
                    median = value[half];
                }
                else{
                    median = (value[half-1] + value[half]) / 2.0;
                }                
                
                document.write(value.length +" >>> average: "+avgGrade+" >>> median: "+median+ "</br>");
                
                for (var y in value) {
                    var value2 = value[y];
                    document.write(value[y] + "</br>");
                }
            }
        </script>
    </body>
</html>
